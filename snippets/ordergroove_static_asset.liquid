
{% comment %}

Do NOT change this file. It has been autogenerated by the Ordergroove Shopify App.
This file can be re-written at any time.
Last updated at: 2021-12-14T19:03:45.949Z / Version: 2.1.1

{%- render 'ordergroove_static_asset' -%}

{% endcomment %}


<script>
  {%- assign secret_key = "936a3a3a4035f21cc248dad02fbabb8b222442b9" -%}
  {%- assign customer_id = customer.id  -%}
  {%- assign timestamp = "now" | date: "%s" -%}
  {%- assign signature = customer_id | append: "|" | append: timestamp | hmac_sha256: secret_key -%}

  {% if template == 'cart' or template.name contains 'product' %}
  window.og_settings = {
    {%- if template == 'cart' -%}
      "page_type": "2",
    {%- else -%}
      "page_type": "1",
    {%- endif -%}
    {%- if customer -%}
    "logged_in": true,
    {%- else -%}
    "logged_in": false,
    {%- endif -%}
    "impulse_upsell": true,
    "product": "{{ product.selected_or_first_available_variant.id }}",
    "cart": {
      "products": [
        {%- for line_item in cart.items -%}
        {
          "id": {{ line_item.variant_id }},
          "quantity": {{ line_item.quantity }},
          "unit_price": {{ line_item.final_price }}/100,
          "total_price": {{ line_item.final_line_price }}/100
        }{%- unless forloop.last == true -%},{%- endunless -%}
        {%- endfor -%}
      ]
    }
  };
  {% endif %}

  window.ogShopifyConfig = {
    {%- if customer -%}
      customer: {
        id: "{{customer.id}}",
        email: "{{customer.email}}",
        signature: "{{signature}}",
        timestamp: "{{timestamp}}",
      },
    {%- else -%}
      customer: null,
    {%- endif -%}
    settings: {
      reloadCart: true,
      blockGuestCheckout: false,
      gateway: "shopifyPayments",
      shouldUseSafeAssets: true,
      consentText: encodeURI(
        '{{ 'shopify.checkout.payment.subscription_agreement_label_html' | t | replace: "'", "&apos;" | replace: "
", " " | strip_newlines }}'
      ),
      consentWarning: '{{ 'shopify.checkout.field_errors.subscription_agreement_blank' | t | replace: "'", "&apos;" | replace: "
", " " | strip_newlines }}',
    }
  }
</script>
<script type="text/javascript" src="https://static.ordergroove.com/177a38ae51fc11ec9eaaea1de15cebb2/main.js"></script>
